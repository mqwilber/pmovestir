The repository `pmovestir` contains the code to reproduce the analyses described in the manuscript **How do non-independent host movements affect spatio-temporal disease dynamics? Partitioning the contributions of spatial overlap and correlated movements to transmission risk**

Here are the steps to reproduce the results

1. Use conda to activate the conda environment from the provided `environment.yml` file (see [here](https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html)).  The environment is called `movement_clean`.
2. Open `manuscript_plots_pmovestir.ipynb` or `deer_analysis.ipynb` and execute the the Jupyter notebook cells

The directory contains the following folders and files

- `environment.yml`:  The conda environment file that can be used to generate the Python environment used to perform all of the analyses.  You need to build and activate this environment before running any of the scripts.
- `code`
	- `pmovestir.py`: Functions used to process movement data and compute FOI using pmovestir. See file for function documentation.
	- `deer_analysis.ipynb`: Jupyter notebook that reproduced the Fig. 4 and Fig. 5 in the manuscript
	- `manuscript_plots_pmovestir.ipynb`:  Make Fig. 1, 2, and 3 in the manuscript for the follow-the-leader model and the OU movement model. 
	- `generate_foi_comparison_direct.py`:  Script to batch process the deer movement data to calculate CSR ratios.  The resulting file `cor_contributions_grid_size_40.csv` is provided in `results`
- `data`
	- `cleaned_movement_data_08292024.csv`: Contains the observed movements for the four focal individuals used in this study.
- `results`
	- Contains plots and data files generated by the scripts in `code`

